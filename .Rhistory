theme(legend.position = "bottom",legend.title =element_blank())
# separated lineplot
dataagro %>% filter(depa %in% c("San Martin","Junin","Cajamarca","Amazonas","Cusco","Pasco")) %>%
ggplot(aes(x = year, y = prodcafe)) +
geom_path(aes(colour = as.factor(depa)),size=2) +
labs(x = "Años",  y = "Producción de café",title = "Departamentos con mayor producción de café ") +
theme(legend.position = "bottom",legend.title =element_blank())
# separated lineplot
dataagro %>% filter(depa %in% c("San Martin","Junin","Cajamarca","Amazonas","Cusco","Pasco")) %>%
ggplot(aes(x = year, y = prodcafe)) +
geom_path(aes(colour = as.factor(depa)),size=1) +
labs(x = "Años",  y = "Producción de café",title = "Departamentos con mayor producción de café ") +
theme(legend.position = "bottom",legend.title =element_blank())
# separated lineplot
dataagro %>% filter(depa %in% c("San Martin","Junin","Cajamarca","Amazonas","Cusco","Pasco")) %>%
ggplot(aes(x = year, y = prodcafe)) +
geom_path(aes(colour = as.factor(depa)),size=1,linetype=2) +
labs(x = "Años",  y = "Producción de café",title = "Departamentos con mayor producción de café ") +
theme(legend.position = "bottom",legend.title =element_blank())
# separated lineplot
dataagro %>% filter(depa %in% c("San Martin","Junin","Cajamarca","Amazonas","Cusco","Pasco")) %>%
ggplot(aes(x = year, y = prodcafe)) +
geom_path(aes(colour = as.factor(depa)),size=1,linetype=1) +
labs(x = "Años",  y = "Producción de café",title = "Departamentos con mayor producción de café ") +
theme(legend.position = "bottom",legend.title =element_blank())
# separated lineplot
dataagro %>% filter(depa %in% c("San Martin","Junin","Cajamarca","Amazonas","Cusco","Pasco")) %>%
ggplot(aes(x = year, y = prodcafe)) +
geom_path(aes(colour = as.factor(depa)),size=1,linetype=3) +
labs(x = "Años",  y = "Producción de café",title = "Departamentos con mayor producción de café ") +
theme(legend.position = "bottom",legend.title =element_blank())
# separated lineplot
dataagro %>% filter(depa %in% c("San Martin","Junin","Cajamarca","Amazonas","Cusco","Pasco")) %>%
ggplot(aes(x = year, y = prodcafe)) +
geom_path(aes(colour = as.factor(depa)),size=1,linetype=4) +
labs(x = "Años",  y = "Producción de café",title = "Departamentos con mayor producción de café ") +
theme(legend.position = "bottom",legend.title =element_blank())
# separated lineplot
dataagro %>% filter(depa %in% c("San Martin","Junin","Cajamarca","Amazonas","Cusco","Pasco")) %>%
ggplot(aes(x = year, y = prodcafe)) +
geom_path(aes(colour = as.factor(depa)),size=1,linetype=5) +
labs(x = "Años",  y = "Producción de café",title = "Departamentos con mayor producción de café ") +
theme(legend.position = "bottom",legend.title =element_blank())
# separated lineplot
dataagro %>% filter(depa %in% c("San Martin","Junin","Cajamarca","Amazonas","Cusco","Pasco")) %>%
ggplot(aes(x = year, y = prodcafe)) +
geom_path(aes(colour = as.factor(depa)),size=1,linetype=6) +
labs(x = "Años",  y = "Producción de café",title = "Departamentos con mayor producción de café ") +
theme(legend.position = "bottom",legend.title =element_blank())
# separated lineplot
dataagro %>% filter(depa %in% c("San Martin","Junin","Cajamarca","Amazonas","Cusco","Pasco")) %>%
ggplot(aes(x = year, y = prodcafe)) +
geom_path(aes(colour = as.factor(depa)),size=1,linetype=7) +
labs(x = "Años",  y = "Producción de café",title = "Departamentos con mayor producción de café ") +
theme(legend.position = "bottom",legend.title =element_blank())
# separated lineplot
dataagro %>% filter(depa %in% c("San Martin","Junin","Cajamarca","Amazonas","Cusco","Pasco")) %>%
ggplot(aes(x = year, y = prodcafe)) +
geom_path(aes(colour = as.factor(depa)),size=1,linetype=8) +
labs(x = "Años",  y = "Producción de café",title = "Departamentos con mayor producción de café ") +
theme(legend.position = "bottom",legend.title =element_blank())
# separated lineplot
dataagro %>% filter(depa %in% c("San Martin","Junin","Cajamarca","Amazonas","Cusco","Pasco")) %>%
ggplot(aes(x = year, y = prodcafe)) +
geom_path(aes(colour = as.factor(depa)),size=1,linetype=6) +
labs(x = "Años",  y = "Producción de café",title = "Departamentos con mayor producción de café ") +
theme(legend.position = "bottom",legend.title =element_blank())
# separated lineplot
dataagro %>% filter(depa %in% c("San Martin","Junin","Cajamarca","Amazonas","Cusco","Pasco")) %>%
ggplot(aes(x = year, y = prodcafe)) +
geom_path(aes(colour = as.factor(depa)),size=1,linetype=5) +
labs(x = "Años",  y = "Producción de café",title = "Departamentos con mayor producción de café ") +
theme(legend.position = "bottom",legend.title =element_blank())
# separated lineplot
dataagro %>% filter(depa %in% c("San Martin","Junin","Cajamarca","Amazonas","Cusco","Pasco")) %>%
ggplot(aes(x = year, y = prodcafe)) +
geom_path(aes(colour = as.factor(depa)),size=1,linetype=1) +
labs(x = "Años",  y = "Producción de café",title = "Departamentos con mayor producción de café ") +
theme(legend.position = "bottom",legend.title =element_blank())
# tendencia top 6 departamentos produccion de cafe
dataagro %>% filter(depa %in% c("San Martin","Junin","Cajamarca","Amazonas","Cusco","Pasco")) %>%
ggplot(aes(x = year, y = prodcafe)) +
geom_path(aes(colour = as.factor(depa)),size=1,linetype=1) +
labs(x = "Años",  y = "Producción de café",title = "Departamentos con mayor producción de café ") +
theme(legend.position = "bottom",legend.title =element_blank())
# heterogeneidad mediante boxplots por departamento
dataagro %>%
group_by(depa) %>%
summarise(inv_mean = mean(prodcafe)) %>%
left_join(dataagro) %>%
ggplot(data = .,
aes(x = reorder(as.character(depa), depa), y = prodcafe)) +
geom_boxplot() +
geom_line(aes(x = depa, y = inv_mean), col = "blue") +
labs(x = "Firm", y = "Gross Investment")+coord_flip()
# heterogeneidad mediante boxplots por departamento
dataagro %>%
group_by(depa) %>%
summarise(inv_mean = mean(prodcafe)) %>%
left_join(dataagro) %>%
ggplot(data = .,
aes(x = reorder(as.character(depa), depa), y = prodcafe)) +
geom_boxplot() +
geom_line(aes(x = depa, y = inv_mean), col = "blue") +
labs(x = "", y = "producción de café")+coord_flip()
# heterogeneidad mediante boxplots por departamento
dataagro %>%
group_by(depa) %>%
summarise(inv_mean = mean(prodcafe)) %>%
left_join(dataagro) %>%
ggplot(data = .,
aes(x = reorder(as.character(depa), depa), y = prodcafe)) +
geom_boxplot() +
geom_line(aes(x = depa, y = inv_mean), col = "blue") +
labs(x = "", y = "Producción de café")+coord_flip()
# heterogeneidad mediante boxplots por departamento
dataagro %>%
group_by(depa) %>%
summarise(inv_mean = mean(prodcafe)) %>%
left_join(dataagro) %>%
ggplot(data = .,
aes(x = reorder(as.character(depa), depa), y = prodcafe)) +
geom_boxplot() +
geom_line(aes(x = depa, y = inv_mean), col = "blue") +
labs(x = "", y = "Producción de café",title = "Heterogeneidad por departamento")+coord_flip()
# heterogeneidad mediante boxplots por departamento
dataagro %>%
group_by(depa) %>%
summarise(inv_mean = mean(prodcafe)) %>%
left_join(dataagro) %>%
ggplot(data = .,
aes(x = reorder(as.character(depa), depa), y = prodcafe)) +
geom_boxplot() +
geom_line(aes(x = depa, y = inv_mean), col = "blue") +
labs(x = "", y = "Producción de café",title = "Heterogeneidad por departamento")+coord_flip()
# heterogeneidad mediante boxplots por departamento
dataagro %>%
group_by(depa) %>%
summarise(inv_mean = mean(prodcafe)) %>%
left_join(dataagro) %>%
ggplot(data = .,
aes(x = reorder(as.character(depa), depa), y = prodcafe)) +
geom_boxplot() +
geom_line(aes(x = depa, y = inv_mean), color = "blue") +
labs(x = "", y = "Producción de café",title = "Heterogeneidad por departamento")+coord_flip()
# heterogeneidad mediante boxplots por departamento
dataagro %>%
group_by(depa) %>%
summarise(inv_mean = mean(prodcafe)) %>%
left_join(dataagro) %>%
ggplot(data = .,
aes(x = reorder(as.character(depa), depa), y = prodcafe)) +
geom_boxplot() +
geom_line(aes(x = depa, y = inv_mean), colour = "blue") +
labs(x = "", y = "Producción de café",title = "Heterogeneidad por departamento")+coord_flip()
# heterogeneidad mediante boxplots por departamento
dataagro %>%
group_by(depa) %>%
summarise(inv_mean = mean(prodcafe)) %>%
left_join(dataagro) %>%
ggplot(data = .,
aes(x = reorder(as.character(depa), depa), y = prodcafe)) +
geom_boxplot() +
geom_line(aes(x = depa, y = inv_mean)) +
labs(x = "", y = "Producción de café",title = "Heterogeneidad por departamento")+coord_flip()
# heterogeneidad mediante boxplots por departamento
dataagro %>%
group_by(depa) %>%
summarise(inv_mean = mean(prodcafe)) %>%
left_join(dataagro) %>%
ggplot(data = .,
aes(x = reorder(as.character(depa), depa), y = prodcafe)) +
geom_boxplot(color="blue") +
geom_line(aes(x = depa, y = inv_mean)) +
labs(x = "", y = "Producción de café",title = "Heterogeneidad por departamento")+coord_flip()
# heterogeneidad mediante boxplots por departamento
dataagro %>%
group_by(depa) %>%
summarise(inv_mean = mean(prodcafe)) %>%
left_join(dataagro) %>%
ggplot(data = .,
aes(x = reorder(as.character(depa), depa), y = prodcafe)) +
geom_boxplot(color="lightblue") +
geom_line(aes(x = depa, y = inv_mean)) +
labs(x = "", y = "Producción de café",title = "Heterogeneidad por departamento")+coord_flip()
# heterogeneidad mediante boxplots por departamento
dataagro %>%
group_by(depa) %>%
summarise(inv_mean = mean(prodcafe)) %>%
left_join(dataagro) %>%
ggplot(data = .,
aes(x = reorder(as.character(depa), depa), y = prodcafe)) +
geom_boxplot(color="darkhtblue") +
geom_line(aes(x = depa, y = inv_mean)) +
labs(x = "", y = "Producción de café",title = "Heterogeneidad por departamento")+coord_flip()
# heterogeneidad mediante boxplots por departamento
dataagro %>%
group_by(depa) %>%
summarise(inv_mean = mean(prodcafe)) %>%
left_join(dataagro) %>%
ggplot(data = .,
aes(x = reorder(as.character(depa), depa), y = prodcafe)) +
geom_boxplot(color="darkblue") +
geom_line(aes(x = depa, y = inv_mean)) +
labs(x = "", y = "Producción de café",title = "Heterogeneidad por departamento")+coord_flip()
# tendencia de la produccion de cafe en el país a través de los años de estudio
dataagro %>%
group_by(year) %>%
summarise(produccion=mean(prodcafe)) %>%
ggplot(aes(x=year,y=produccion))+geom_smooth()
# tendencia de la produccion de cafe en el país a través de los años de estudio
dataagro %>%
group_by(year) %>%
summarise(produccion=mean(prodcafe)) %>%
ggplot(aes(x=year,y=produccion))+geom_smooth()+
labs(x="Años",y="Producción de café",title = "Tendencia nacional de producción de café")
# producción de café por departamento ordenado de mayor a menos
dataagro %>%
group_by(depa) %>%
summarise(produccion=sum(prodcafe)) %>%
ggplot(aes(x=reorder(depa,produccion),y=produccion))+
geom_bar(stat = "sum",fill="lightblue",show.legend = FALSE)+
coord_flip()
# producción de café por departamento ordenado de mayor a menos
dataagro %>%
group_by(depa) %>%
summarise(produccion=sum(prodcafe)) %>%
ggplot(aes(x=reorder(depa,produccion),y=produccion))+
geom_bar(stat = "sum",fill="lightblue",show.legend = FALSE)+
coord_flip()+labs(x="Producción de café",y="",title = "Ranking de produccion de café por departamento")
# producción de café por departamento ordenado de mayor a menos
dataagro %>%
group_by(depa) %>%
summarise(produccion=sum(prodcafe)) %>%
ggplot(aes(x=reorder(depa,produccion),y=produccion))+
geom_bar(stat = "sum",fill="lightblue",show.legend = FALSE)+
coord_flip()+labs(x="Producción de café",y="",title = "Ranking de producción de café por departamento")
#---------- correlaciones -----------#
# correlacion entre produccion de cafe y pobreza
# se encontro una correlación pequeña
# se observa que debilmente a medida que se incrementa la producción de café disminuye la pobreza
dataagro %>% filter(prodcafe>5) %>%
ggplot( mapping = aes(x=prodcafe, y=pobre))+
geom_smooth()
cor(dataagro$pobre,dataagro$prodcafe)
#---------- correlaciones -----------#
# correlacion entre produccion de cafe y pobreza
# se encontro una correlación pequeña
# se observa que debilmente a medida que se incrementa la producción de café disminuye la pobreza
dataagro %>% filter(prodcafe>5) %>%
ggplot( mapping = aes(x=prodcafe, y=pobre))+
geom_smooth()+labs(x=Producción de café,y="Pobreza",title="Correlación entre pobreza y producción de café")
#---------- correlaciones -----------#
# correlacion entre produccion de cafe y pobreza
# se encontro una correlación pequeña
# se observa que debilmente a medida que se incrementa la producción de café disminuye la pobreza
dataagro %>% filter(prodcafe>5) %>%
ggplot( mapping = aes(x=prodcafe, y=pobre))+
geom_smooth()+labs(x="Producción de café",y="Pobreza",title="Correlación entre pobreza y producción de café")
# correlacion entre educacion superior y pobreza
# se observa una correlación elevada
# a medida que se incrementa la educación superior, la pobreza en los individuos disminuye
ggplot(data = dataagro, mapping = aes(x=edusup, y=pobre))+
geom_smooth()
# correlacion entre educacion superior y pobreza
# se observa una correlación elevada
# a medida que se incrementa la educación superior, la pobreza en los individuos disminuye
ggplot(data = dataagro, mapping = aes(x=edusup, y=pobre))+
geom_smooth()+labs(x="Educación superior",y="Pobreza",title="Correlación entre pobreza y educación superior")
# grafico de estimación por variable
dataagro %>% filter(prodcafe>5) %>%
ggplot(aes(x = prodcafe, y = pobre)) +
geom_point(aes(shape = factor(depa,
levels = c(1:24)))) +
geom_smooth(method = "lm", se = F) +
scale_shape_manual(values = 1:10) +
labs(x = "Producción de café",
y = "Pobreza",
shape = "depa")
# grafico de estimación por variable
dataagro %>% filter(prodcafe>5) %>%
ggplot(aes(x = prodcafe, y = pobre)) +
geom_point(aes(shape = factor(depa,
levels = c(1:24)))) +
geom_smooth(method = "lm", se = F) +
scale_shape_manual(values = 1:10) +
labs(x = "Producción de café",
y = "Pobreza",
shape = "depa",title = "Estimación entre pobreza y producción de café")
# grafico de estimación por variable
ggplot(data = dataagro,
aes(x = edusup, y = pobre)) +
geom_point(aes(shape = factor(depa,
levels = c(1:10)))) +
geom_smooth(method = "lm", se = F) +
scale_shape_manual(values = 1:10) +
labs(x = "edusup",
y = "Pobreza",
shape = "depa",title = "Estimación entre pobreza y educación superior")
# grafico de estimación por variable
dataagro %>% filter(prodcafe>5) %>%
ggplot(aes(x = prodcafe, y = pobre)) +
geom_point(aes(shape = factor(depa,
levels = c(1:24)))) +
geom_smooth(method = "lm", se = F) +
scale_shape_manual(values = 1:10) +
labs(x = "Producción de café",
y = "Pobreza",
shape = "depa",title = "Estimación lineal entre pobreza y producción de café")
# grafico de estimación por variable
ggplot(data = dataagro,
aes(x = edusup, y = pobre)) +
geom_point(aes(shape = factor(depa,
levels = c(1:10)))) +
geom_smooth(method = "lm", se = F) +
scale_shape_manual(values = 1:10) +
labs(x = "edusup",
y = "Pobreza",
shape = "depa",title = "Estimación lineal entre pobreza y educación superior")
cor(dataagro$pobre,dataagro$edusup)
cor(dataagro$pobre,dataagro$prodcafe)
cor(dataagro$pobre %>% filter(prodcafe>10) ,dataagro$edusup)
cor(dataagro$pobre %>% filter(prodcafe>10) ,dataagro$edusup)
#--------- Test de Hausman-----------#
# Hipótesis nula igual a que el modelo preferido es el de efectos aleatorios
#   "         "   igual a que los erroes unicos no estan correlacionados con los regresores
testhausman<-phtest(fixedmodel, randommodel)
phtest(fixedmodel, randommodel)
plmtest(poolmodel, type=c("bp"))
library(gtsummary)
library(leaflet)
library(rgdal)
library(rgeos)
library(sp)
library(tmap)
library(foreign)
library(readxl)
library(lmtest)
library(skedastic)
library(stargazer)
library(gplots)
library(plm)
library(plyr)
library(tidyverse)
library(stringi)
library(foreign)
library(DescTools)
library(car)
library(kableExtra)
library(tidyr)
library(broom)
library(sf)
#----------------------- IMPORTANDO DATA NECESARIA PARA EL PAPER -----------------------#
peru_d <- st_read("C:/Users/LBarrios/Downloads/MAPA/dp.shp")
dataagro<-read_xlsx("excel1.xlsx")
View(dataagro)
getwd()
#-------------- agrupando data prodcafe y edusup por departamento -----------#
depascafe<-dataagro %>% group_by(depa) %>% summarise(prodcafe=sum(prodcafe))
depascafe$depa<-toupper( depascafe$depa )
names(depascafe)[1]="NOMBDEP"
peru_datos<-peru_d %>%
left_join(depascafe)
#
depaseducacion<-dataagro %>% group_by(depa) %>% summarise(edusup=sum(edusup))
depaseducacion$depa<-toupper(depaseducacion$depa)
names(depaseducacion)[1]="NOMBDEP"
peru_datos_educ<-peru_d %>%
left_join(depaseducacion)
#--- PRODCAFE----#
ggplot(peru_datos) +
geom_sf(aes(fill = prodcafe))+
labs(title = "Producción de café por departamentos 2007-2019",
caption = "Fuente: SIRTOD (2020)
Elaboración propia"
)+
scale_fill_continuous(low="white",
high="red" ,
guide_legend(title = "Producción de café"))+
theme(axis.ticks.x = element_blank(),
axis.text.x=element_blank(),
axis.ticks.y = element_blank(),
axis.text.y = element_blank())
#--- PRODCAFE----#
ggplot(peru_datos) +
geom_sf(aes(fill = prodcafe))+
labs(title = "Producción de café por departamentos 2007-2019",
caption = "Fuente: SIRTOD (2020)
Elaboración propia"
)+
scale_fill_continuous(low="white",
high="green" ,
guide_legend(title = "Producción de café"))+
theme(axis.ticks.x = element_blank(),
axis.text.x=element_blank(),
axis.ticks.y = element_blank(),
axis.text.y = element_blank())
#---- EDUSUP ----#
ggplot(peru_datos_educ) +
geom_sf(aes(fill = edusup))+
labs(title = "Educación superior por departamentos 2007-2019",
caption = "Fuente: INEI (2020)
Elaboración propia"
)+
scale_fill_continuous(low="white",
high="blue" ,
guide_legend(title = "Educación superior"))+
theme(axis.ticks.x = element_blank(),
axis.text.x=element_blank(),
axis.ticks.y = element_blank(),
axis.text.y = element_blank())
# tendencia top 6 departamentos produccion de cafe
dataagro %>% filter(depa %in% c("San Martin","Junin","Cajamarca","Amazonas","Cusco","Pasco")) %>%
ggplot(aes(x = year, y = prodcafe)) +
geom_path(aes(colour = as.factor(depa)),size=1,linetype=1) +
labs(x = "Años",  y = "Producción de café",title = "Departamentos con mayor producción de café ") +
theme(legend.position = "bottom",legend.title =element_blank())
# heterogeneidad mediante boxplots por departamento
dataagro %>%
group_by(depa) %>%
summarise(inv_mean = mean(prodcafe)) %>%
left_join(dataagro) %>%
ggplot(data = .,
aes(x = reorder(as.character(depa), depa), y = prodcafe)) +
geom_boxplot(color="darkblue") +
geom_line(aes(x = depa, y = inv_mean)) +
labs(x = "", y = "Producción de café",title = "Heterogeneidad por departamento")+coord_flip()
cor(dataagro$pobre,dataagro$prodcafe)
# grafico de estimación por variable
ggplot(data = dataagro,
aes(x = edusup, y = pobre)) +
geom_point(aes(shape = factor(depa,
levels = c(1:10)))) +
geom_smooth(method = "lm", se = F) +
scale_shape_manual(values = 1:10) +
labs(x = "edusup",
y = "Pobreza",
shape = "depa",title = "Estimación lineal entre pobreza y educación superior")
summary(depascafe)
summary(depaseducacion)
summary(dataagro)
summary(dataagro)
# install.packages("plyr")
# install.packages("stringi")
# install.packages("foreign")
# install.packages("DescTools")
# install.packages("rgdal")
# install.packages("rgeos")
# install.packages("sp")
# install.packages("tmap")
# install.packages("ozmaps")
# install.packages("gtsummary")
install.packages("psych")
library(pysch)
library(psych)
describe(dataagro)
resumen<-summary(dataagro)
xtable(as.table(resumen), type = "latex")
install.packages("xtable")
library(xtable)
xtable(as.table(resumen), type = "latex")
resumen<-summary(dataagro)
xtable(as.table(resumen), type = "latex")
# install.packages("xtable")
library(xtable)
xtable(as.table(resumen), type = "latex")
library(psych)
resumen<-psych(dataagro)
resumen<-psych(depascafe)
resumen<-describe(data = dataagro)
resumen<-describe(dataagro)
xtable(as.table(resumen), type = "latex")
resumen<-describe(dataagro)
resumen
resumen<-describe(depascafe)
xtable(as.table(depascafe), type = "latex")
resumen<-describe(dataagro)
xtable(as.table(depascafe), type = "latex")
resumen<-summary(dataagro)
xtable(as.table(dataagro), type = "latex")
xtable(as.table(resumen), type = "latex")
resumen<-summary(dataagro)
resumen<-describe(dataagro)
xtable(as.table(resumen), type = "latex")
resumen<-describe(dataagro)
xtable(as.table(resumen), type = "latex")
resumen<-summary(dataagro)
xtable(as.table(resumen), type = "latex")
# install.packages("xtable")
stargazer::stargazer(resumen)
print(xtable(as.table(resumen), type = "latex"))
resumen<-describe(dataagro)
resumen<-summary(dataagro)
resumen<-describe(dataagro)
print(xtable(as.table(resumen), type = "latex"))
resumen<-summary(dataagro)
resumen
resumen<-describe(dataagro)
View(peru_datos_educ)
View(resumen)
xtable(as.table(resumen), type = "latex")
xtable(as.table(resumen$vars), type = "latex")
resumen<-describe(dataagro)
library(tidyverse)
names(resumen)
resumen<-resumen %>% select(vars,n,mean,sd,min,max)
xtable(as.table(resumen), type = "latex")
View(resumen)
xtable(as.table(resumen), type = "latex")
xtable(resumen, type = "latex")
xtable(resumen, type = "png")
xtable(resumen, type = "latex")
